{% extends "index.html" %}

{% block results %}

<div class="container">
        <table id="plannerTable" class='table table-bordered text-center mt-3 mb-3 ml-0'>
            <thead class="thead-dark" id="head">
                <tr>
                    <th>Class Id</th>
                    <th>Name</th>
                    <th>Professor</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ course[0] }}</td>
                    <td>{{ course[1] }}</td>
                    <td>{{ course[2] }}</td>
                    <td>{{ course[3] }}</td>
                </tr>
            </tbody>
        </table>

        <form action="/add" methods="GET">
            <input type="hidden" name="courseNum" value='{{course[0]}}' />
            <button type="submit" class="btn btn-primary">Add Assignment</button>
        </form>


        <table id="asignmentTable" class='table table-bordered text-center mt-3 mb-3 ml-0'>
            <thead class="thead-dark" id="head">
                <tr>
                    <th>Assignment Name</th>
                    <th>Grade</th>
                    <th></th>
                </tr>
            </thead>
            <div id="app">
            <tbody id='maketable'>
                {% for r in results %}
                    <tr > 
                        <td>{{ r }}</td>
                        <td >
                            <div>
                                <input type="text" class="form-control" placeholder="Enter Grade" v-model="item.qty">
                            </div>
                        </td>
                        <td>
                            <form action ='/delete' method='POST'>
                                <input type="hidden" name="course" value='{{course[0]}}'/>
                                <input type="hidden" name="assignmentName" value='{{r}}' />
                                <button type='submit' class="btn btn-primary">Delete</button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>

            <button @click="addItem">Calculate</button>
            <br> Grade: {{ totalGrade }}

            </div>
        </table>

    </div>
    
    
    
    <script src="https://vuejs.org/js/vue.min.js"></script>
    <script>
 new Vue({
  el: '#app',

  data: {
    items: []
  },

  computed: {
    totalGrade() {
        return this.items.reduce((total, item) => {
          return total + Number(item.qty);
        }, 0);
      },

// created() {
//     this.addItem();
// },

// methods: {
//     addItem() {
//     this.items.push({
//         qty: 0,  
//     });
//     }
// }
}
});
    </script>

{% endblock %}